{# File: base.html #}
{# Author: Artemios Kayas (akayas@bu.edu) #}
{# Description: Base template for the base template #}
{# This is the base template for the mini_insta app. It includes the navigation bar and the footer. #}
{% load static %}
<html>
    <head> 
        <title> Mini Insta </title>
        <link rel="stylesheet" href="{% static 'mini_insta.css' %}">
    </head>

    <body>
        {# navigation menu at top #}
        <nav>
            <ul>
                <li>
                    <a href="{% url 'show_all_profiles' %}">All Profiles</a>
                </li>
                {% if user.is_authenticated %}
                    <li>
                        <a href="{% url 'my_profile' %}">My Profile</a>
                    </li>
                    <li>
                        <form method="post" action="{% url 'logout' %}" style="display: inline;">
                            {% csrf_token %}
                            <button type="submit">Logout</button>
                        </form>
                    </li>
                {% else %}
                    <li>
                        <a href="{% url 'create_profile' %}">Create Profile</a>
                    </li>
                    <li>
                        <a href="{% url 'login' %}">Login</a>
                    </li>
                {% endif %}
            </ul>
        </nav>
        
        {# main content goes here #}
        {% block content %}
        {% endblock %}

        {# footer with author info #}
        <footer>
            {% if user.is_authenticated %}
                {% if profile and profile.user == user %}
                    {# Links for the authenticated user's own profile #}
                    <p><a href="{% url 'show_feed' %}">Home (Feed)</a></p>
                    <p><a href="{% url 'show_profile' profile.pk %}">Profile</a></p>
                    <p><a href="{% url 'create_post' %}">Create New Post</a></p>
                    <p><a href="{% url 'search' %}">Search</a></p>
                {% elif profile %}
                    {# Links for viewing someone else's profile #}
                    <p><a href="{% url 'show_profile' profile.pk %}">View Profile</a></p>
                    <p><a href="{% url 'show_all_profiles' %}">All Profiles</a></p>
                {% else %}
                    {# Generic authenticated user without a specific profile context #}
                    <p><a href="{% url 'show_feed' %}">Home (Feed)</a></p>
                    <p><a href="{% url 'search' %}">Search</a></p>
                    <p><a href="{% url 'show_all_profiles' %}">All Profiles</a></p>
                {% endif %}
            {% else %}
                {# Links for non-authenticated users #}
                <p><a href="{% url 'show_all_profiles' %}">All Profiles</a></p>
            {% endif %}
            <p> This page was created by Artemios Kayas for CS412 assignment Mini Insta</p>
        </footer>
   
    </body>

</html>